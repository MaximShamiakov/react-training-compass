{"ast":null,"code":"import React from'react';import axios from'axios';import{useSelector,useDispatch}from\"react-redux\";import{fetchModels}from\"../../redux/actions/actionsCategories\";import{actionsQuestionsTasks}from\"../../redux/actions/actionsQuestionsTasks\";import{actionsSelectedCategory}from'../../redux/actions/actionsSelectedCategory';import{actionIndexTask}from\"../../redux/actions/actionIndexTask\";import Task from'../Task/Task';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TrainingCompass(props){const dispatch=useDispatch();React.useEffect(()=>{dispatch(fetchModels());},[dispatch]);const items=useSelector(state=>state.categoriesReducer.items);const onSelectItems=category=>{axios.post(\"http://127.0.0.1:8000/categories/\",{category,indexTask:[]}).then(response=>{const taskIds=response.data.map(task=>task.id);dispatch(actionsSelectedCategory(category));dispatch(actionsQuestionsTasks(response.data));dispatch(actionIndexTask(taskIds));}).catch(error=>{console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category-block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-category\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"category-text\",children:[items.map(el=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>{onSelectItems(el.category);},className:\"name-category\",children:el.title},el.id)),/*#__PURE__*/_jsx(Link,{className:\"link\",to:'/',children:/*#__PURE__*/_jsx(\"div\",{className:\"name-category\",children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]})})}),/*#__PURE__*/_jsx(Task,{})]});}","map":{"version":3,"names":["React","axios","useSelector","useDispatch","fetchModels","actionsQuestionsTasks","actionsSelectedCategory","actionIndexTask","Task","Link","jsx","_jsx","jsxs","_jsxs","TrainingCompass","props","dispatch","useEffect","items","state","categoriesReducer","onSelectItems","category","post","indexTask","then","response","taskIds","data","map","task","id","catch","error","console","log","className","children","el","onClick","title","to"],"sources":["/home/max/it/Training compass/training-compass/src/Components/TrainingCompass/TrainingCompass.jsx"],"sourcesContent":["import React from 'react'\nimport axios from 'axios';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchModels } from \"../../redux/actions/actionsCategories\";\nimport {actionsQuestionsTasks} from \"../../redux/actions/actionsQuestionsTasks\"\nimport {actionsSelectedCategory} from '../../redux/actions/actionsSelectedCategory'\nimport {actionIndexTask} from \"../../redux/actions/actionIndexTask\"\nimport Task from '../Task/Task';\nimport { Link } from 'react-router-dom'\n\n\n\nexport default function TrainingCompass(props) {\n\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    dispatch(fetchModels());\n  }, [dispatch]);\n\n  const items = useSelector(state => state.categoriesReducer.items);\n\n  const onSelectItems = (category)=>{\n    axios\n    .post(\"http://127.0.0.1:8000/categories/\", {category, indexTask: []})\n    .then((response) => {\n      const taskIds = response.data.map((task) => task.id);\n      dispatch(actionsSelectedCategory(category))\n      dispatch(actionsQuestionsTasks(response.data))\n      dispatch(actionIndexTask(taskIds));\n     \n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\n\n\n\n  return (\n    <div className=\"content\">\n    <div className=\"category-block\">\n      <div className=\"block-category\">\n        <div className=\"category-text\">          \n        {items.map((el)=> (<div onClick={()=>{onSelectItems(el.category)}} className=\"name-category\" key={el.id}>{el.title}</div>))}\n        <Link className='link' to={'/'}>\n          <div className=\"name-category\">Выйти</div>\n        </Link>\n        </div>\n      </div>\n    </div>\n    < Task/>\n  </div>\n  )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,uCAAuC,CACnE,OAAQC,qBAAqB,KAAO,2CAA2C,CAC/E,OAAQC,uBAAuB,KAAO,6CAA6C,CACnF,OAAQC,eAAe,KAAO,qCAAqC,CACnE,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,OAASC,IAAI,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAIvC,cAAe,SAAS,CAAAC,eAAeA,CAACC,KAAK,CAAE,CAE7C,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BH,KAAK,CAACiB,SAAS,CAAC,IAAM,CACpBD,QAAQ,CAACZ,WAAW,CAAC,CAAC,CAAC,CACzB,CAAC,CAAE,CAACY,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAE,KAAK,CAAGhB,WAAW,CAACiB,KAAK,EAAIA,KAAK,CAACC,iBAAiB,CAACF,KAAK,CAAC,CAEjE,KAAM,CAAAG,aAAa,CAAIC,QAAQ,EAAG,CAChCrB,KAAK,CACJsB,IAAI,CAAC,mCAAmC,CAAE,CAACD,QAAQ,CAAEE,SAAS,CAAE,EAAE,CAAC,CAAC,CACpEC,IAAI,CAAEC,QAAQ,EAAK,CAClB,KAAM,CAAAC,OAAO,CAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,IAAI,EAAKA,IAAI,CAACC,EAAE,CAAC,CACpDf,QAAQ,CAACV,uBAAuB,CAACgB,QAAQ,CAAC,CAAC,CAC3CN,QAAQ,CAACX,qBAAqB,CAACqB,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC9CZ,QAAQ,CAACT,eAAe,CAACoB,OAAO,CAAC,CAAC,CAEpC,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAKC,mBACEpB,KAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACxB1B,IAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B1B,IAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BxB,KAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC7BnB,KAAK,CAACW,GAAG,CAAES,EAAE,eAAK3B,IAAA,QAAK4B,OAAO,CAAEA,CAAA,GAAI,CAAClB,aAAa,CAACiB,EAAE,CAAChB,QAAQ,CAAC,EAAE,CAACc,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAcC,EAAE,CAACE,KAAK,EAAhBF,EAAE,CAACP,EAAmB,CAAE,CAAC,cAC3HpB,IAAA,CAACF,IAAI,EAAC2B,SAAS,CAAC,MAAM,CAACK,EAAE,CAAE,GAAI,CAAAJ,QAAA,cAC7B1B,IAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gCAAK,CAAK,CAAC,CACtC,CAAC,EACF,CAAC,CACH,CAAC,CACH,CAAC,cACN1B,IAAA,CAAEH,IAAI,GAAC,CAAC,EACL,CAAC,CAER","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}